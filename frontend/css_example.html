<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü§ñ</text></svg>">
    <title>–ê–Ω–æ–Ω—Å - CP 04/36</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #1a1a1a;
            min-height: 100vh;
            display: flex;
            justify-content: flex-start;
            align-items: flex-start;
            padding: 20px;
        }

        .dialog-container {
            font-family: 'Segoe UI', Arial, sans-serif;
            width: 800px;
            max-width: 100%;
            height: 600px;
            max-height: 100vh;
            background: #212121;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }

        .messages-container {
            padding: 20px;
            flex: 1;
            overflow-y: auto;
        }

        /* –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
        .user-message {
            display: flex;
            justify-content: flex-end;
            margin: 8px 0;
            padding: 0 16px;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s, transform 0.3s;
        }

        .user-message.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .user-message .bubble {
            background: #303030;
            color: #ECECF1;
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 70%;
            min-width: 0;
            font-size: 15px;
            line-height: 1.6;
            overflow: hidden;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        /* –û—Ç–≤–µ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ */
        .ai-message {
            padding: 16px 2px;
            margin: 8px 0;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s, transform 0.3s;
        }

        .ai-message.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .ai-message .content {
            color: #ECECF1;
            line-height: 1.7;
            min-width: 0;
            font-size: 15px;
            overflow: hidden;
            word-wrap: break-word;
            overflow-wrap: break-word;
            padding: 0 16px;
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–î—É–º–∞—é..." */
        .thinking-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 16px;
            color: #8e8ea0;
            font-size: 14px;
        }

        .thinking-indicator .gear {
            animation: spin 1s linear infinite;
            font-size: 18px;
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        /* –ü–æ–ª–µ –≤–≤–æ–¥–∞ */
        .input-container {
            display: flex;
            align-items: center;
            background: #303030;
            margin: 0 16px 16px 16px;
            padding: 10px 16px;
            border-radius: 22px;
            border: 1px solid #424242;
        }

        .attach-icon {
            color: #8e8ea0;
            font-size: 16px;
            margin-right: 10px;
        }

        .input-field {
            flex: 1;
            color: #ECECF1;
            font-size: 14px;
            position: relative;
            min-height: 20px;
        }

        .input-field .placeholder {
            color: #8e8ea0;
        }

        .input-field .text {
            color: #ECECF1;
        }

        .input-field .caret {
            display: inline-block;
            width: 2px;
            height: 18px;
            background: #ECECF1;
            margin-left: 1px;
            vertical-align: middle;
            animation: blink 1s step-end infinite;
        }

        .input-field .caret.hidden {
            visibility: hidden;
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0;
            }
        }

        .send-button {
            width: 28px;
            height: 28px;
            background: #676767;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 10px;
            color: #212121;
            transition: background 0.2s;
            cursor: default;
        }

        .send-button.active {
            background: #10A37F;
        }

        .send-button.active.waiting {
            animation: pulse 1.5s ease-in-out infinite;
            cursor: pointer;
        }

        @keyframes pulse {

            0%,
            100% {
                background: #10A37F;
                box-shadow: 0 0 0 0 rgba(16, 163, 127, 0.4);
            }

            50% {
                background: #0e8c6b;
                box-shadow: 0 0 0 8px rgba(16, 163, 127, 0);
            }
        }

        .send-button svg {
            width: 16px;
            height: 16px;
        }

        /* –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ */
        .restart-btn {
            display: block;
            margin: 20px auto;
            padding: 12px 24px;
            background: #10A37F;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .restart-btn:hover {
            background: #0e8c6b;
        }

        /* Follow-up –∫–Ω–æ–ø–∫–∏ */
        .followup-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding: 12px 16px;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s, transform 0.3s;
        }

        .followup-container.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .followup-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: transparent;
            border: 1px solid #424242;
            border-radius: 12px;
            padding: 10px 14px;
            color: #ECECF1;
            font-size: 14px;
            text-align: left;
            cursor: pointer;
            transition: background 0.2s, border-color 0.2s;
        }

        .followup-btn:hover {
            background: #303030;
            border-color: #10A37F;
        }

        .followup-btn .arrow {
            color: #10A37F;
            font-size: 12px;
            flex-shrink: 0;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ */
        .send-hint {
            position: absolute;
            bottom: 100%;
            right: 16px;
            background: #10A37F;
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s, transform 0.3s;
            pointer-events: none;
            margin-bottom: 8px;
        }

        .send-hint.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .send-hint::after {
            content: '';
            position: absolute;
            top: 100%;
            right: 20px;
            border: 6px solid transparent;
            border-top-color: #10A37F;
        }

        .input-container {
            position: relative;
        }

        /* Inline code */
        code {
            background: #3a3a3a;
            color: #10A37F;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }

        /* –ü—Ä–∏–ª–æ–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª */
        .file-attachment {
            display: flex;
            align-items: center;
            background: #252525;
            border-radius: 8px;
            padding: 10px 12px;
            margin: 8px 0;
            border-left: 3px solid #10A37F;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s, transform 0.3s;
        }

        .file-attachment.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .file-attachment .file-icon {
            width: 24px;
            height: 24px;
            margin-right: 10px;
            flex-shrink: 0;
        }

        .file-attachment .file-name {
            color: #ECECF1;
            font-size: 14px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Å–∫—Ä–µ–ø–∫–∏ */
        .attach-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .attach-emoji {
            display: inline-block;
            transition: transform 0.2s, filter 0.2s;
        }

        .attach-icon.active .attach-emoji {
            animation: attachPulse 0.5s ease-in-out;
            filter: drop-shadow(0 0 6px #10A37F);
        }

        @keyframes attachPulse {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.4) rotate(-15deg); }
            50% { transform: scale(1.2) rotate(10deg); }
            75% { transform: scale(1.3) rotate(-5deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        /* –ü—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ */
        .file-preview {
            display: inline-flex;
            align-items: center;
            background: #404040;
            border-radius: 6px;
            padding: 4px 8px;
            margin-right: 8px;
            font-size: 12px;
            color: #10A37F;
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 0.3s, transform 0.3s;
        }

        .file-preview.visible {
            opacity: 1;
            transform: scale(1);
        }

        .file-preview .file-preview-icon {
            width: 16px;
            height: 16px;
            margin-right: 6px;
        }

        .file-preview .file-preview-name {
            max-width: 150px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ */
        .file-loading {
            display: inline-block;
            width: 12px;
            height: 12px;
            border: 2px solid #10A37F;
            border-top-color: transparent;
            border-radius: 50%;
            animation: fileLoadingSpin 0.8s linear infinite;
            margin-right: 6px;
        }

        @keyframes fileLoadingSpin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>

<body>
    <div class="dialog-container">
        <div class="messages-container" id="messages"></div>

        <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
        <div class="input-container">
            <span class="attach-icon"><span class="attach-emoji">üìé</span></span>
            <div class="input-field" id="inputField">
                <span class="placeholder">–°–ø—Ä–æ—Å–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å...</span>
                <span class="caret"></span>
            </div>
            <div class="send-button" id="sendButton">
                <svg viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M8.99992 16V6.41407L5.70696 9.70704C5.31643 10.0976 4.68342 10.0976 4.29289 9.70704C3.90237 9.31652 3.90237 8.6835 4.29289 8.29298L9.29289 3.29298L9.36907 3.22462C9.76184 2.90427 10.3408 2.92686 10.707 3.29298L15.707 8.29298L15.7753 8.36915C16.0957 8.76192 16.0731 9.34092 15.707 9.70704C15.3408 10.0732 14.7618 10.0958 14.3691 9.7754L14.2929 9.70704L10.9999 6.41407V16C10.9999 16.5523 10.5522 17 9.99992 17C9.44764 17 8.99992 16.5523 8.99992 16Z">
                    </path>
                </svg>
            </div>
        </div>
    </div>

    <script>
        // JSON —Å –¥–∏–∞–ª–æ–≥–æ–º
        // autoSend: true - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, false - –∂–¥—ë—Ç –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É
        const dialogData = [
            {
                role: "user",
                text: "–ü—Ä–∏–≤–µ—Ç! –¢—ã - –æ–ø—ã—Ç–Ω—ã–π –∞–≤—Ç–æ—Ä City Project (cp.en.cx). –≠—Ç–æ –≥–æ—Ä–æ–¥—Å–∫–∏–µ –Ω–æ—á–Ω—ã–µ –∏–≥—Ä—ã-–∫–≤–µ—Å—Ç—ã –Ω–∞ –¥–≤–∏–∂–∫–µ Encounter —Å –ø–æ–∏—Å–∫–æ–º –∫–æ–¥–æ–≤, —Ä–µ—à–µ–Ω–∏–µ–º –≥–æ–ª–æ–≤–æ–ª–æ–º–æ–∫, –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–º–∏ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏. –ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –Ω–∞–ø–∏—Å–∞—Ç—å –∞–≤—Ç–æ—Ä—Å–∫—É—é –∏–≥—Ä—É, –Ω–æ –µ—â—ë –Ω–∏—á–µ–≥–æ –Ω–µ –≥–æ—Ç–æ–≤–æ, –æ—Å—Ç–∞–ª–æ—Å—å –º–µ–Ω—å—à–µ –¥–≤—É—Ö –Ω–µ–¥–µ–ª—å. –ù—É–∂–Ω–æ –ø—Ä–∏–¥—É–º–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –∏–≥—Ä—ã, –æ–ø–∏—à–∏ –º–µ—Ö–∞–Ω–∏–∫—É —É—Ä–æ–≤–Ω—è –∏ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤.",
                autoSend: false
            },
            {
                role: "ai",
                text: "üëã **–ü—Ä–∏–≤–µ—Ç!**\nüìç –õ–æ–∫–∞—Ü–∏—è —Ç–∞–∫–∞—è: –∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–π –±–µ—Ç–æ–Ω–Ω—ã–π –∑–∞–≤–æ–¥ –Ω–∞ –æ–∫—Ä–∞–∏–Ω–µ –ø—Ä–æ–º–∑–æ–Ω—ã. –¢–∞–º —Ç—Ä–∏ –ø–æ–ª—É—Ä–∞–∑—Ä—É—à–µ–Ω–Ω—ã—Ö —Ü–µ—Ö–∞, –∫—É—á–∏ –±–∏—Ç–æ–≥–æ –∫–∏—Ä–ø–∏—á–∞, —Ç–æ—Ä—á–∏—Ç –∞—Ä–º–∞—Ç—É—Ä–∞, –∞ –≤ –ø–æ–¥–≤–∞–ª–µ —Å—Ç–æ–∏—Ç –≤–æ–¥–∞ –ø–æ –∫–æ–ª–µ–Ω–æ –∏ –ø–ª–∞–≤–∞—é—Ç –∫–∞–∫–∏–µ-—Ç–æ –º–∞—Å–ª—è–Ω—ã–µ –ø—è—Ç–Ω–∞. –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ –º—Ä–∞—á–Ω–∞—è, —Å–≤–µ—Ç–∞ –Ω–µ—Ç –≤–æ–æ–±—â–µ. –≠—Ç–æ –æ—á–µ–Ω—å –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω–æ–µ, –Ω–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ!\n‚ö†Ô∏è –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –º—ã –≥–æ–≤–æ—Ä–∏–º –æ–± –∏–≥—Ä–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–µ, —è –ø—Ä–µ–¥–ª–∞–≥–∞—é —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ —Å–æ–∑–∏–¥–∞–Ω–∏–∏ –∏ –∫–æ–º–∞–Ω–¥–Ω–æ–º –¥—É—Ö–µ.\n\n**üåø –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è: ¬´–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–∞—Ç—Ä—É–ª—å: –í–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ –∑–∞–≤–æ–¥–∞¬ª**\n\n**‚öôÔ∏è –ú–µ—Ö–∞–Ω–∏–∫–∞:**\n\n‚Ä¢ **üë∑ –í—Å—Ç—Ä–µ—á–∞:** –ò–≥—Ä–æ–∫–∏ –ø—Ä–∏–µ–∑–∂–∞—é—Ç –Ω–∞ –ª–æ–∫–∞—Ü–∏—é –≤ –∑–∞—â–∏—Ç–Ω—ã—Ö –∫–æ—Å—Ç—é–º–∞—Ö –∏ —Ä–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–∞—Ö.\n\n‚Ä¢ **üìã –ó–∞–¥–∞–Ω–∏–µ:** –í–º–µ—Å—Ç–æ –ø–æ–∏—Å–∫–∞ –∫–æ–¥–æ–≤, –∫–æ–º–∞–Ω–¥–∞–º –≤—ã–¥–∞—é—Ç—Å—è –º–µ—à–∫–∏ –¥–ª—è –º—É—Å–æ—Ä–∞ –∏ —Å–∞—á–∫–∏. –ó–∞–¥–∞—á–∞ ‚Äî –≤—ã–ª–æ–≤–∏—Ç—å –ø–ª–∞—Å—Ç–∏–∫ –∏–∑ –≤–æ–¥—ã –≤ –ø–æ–¥–≤–∞–ª–µ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —Å–æ–±—Ä–∞—Ç—å –±–∏—Ç—ã–π –∫–∏—Ä–ø–∏—á –≤ –∫—É—á–∏ –ø–æ —Ü–≤–µ—Ç–∞–º.\n\n‚Ä¢ **üß© –õ–æ–≥–∏–∫–∞:** –ö–æ–¥ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω –≤ \"–±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ –ø—Ä–∏—Ä–æ–¥—ã\". –ö–æ–≥–¥–∞ –∏–≥—Ä–æ–∫–∏ –æ—á–∏—Å—Ç—è—Ç 10 –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–æ–≤ –ø–æ–ª–∞, –æ–Ω–∏ —É–≤–∏–¥—è—Ç –ø—Ä–æ–µ–∫—Ü–∏—é —Ä–∞–¥—É–≥–∏ üåà (–∫–æ—Ç–æ—Ä—É—é –≤—ã –∑–∞—Ä–∞–Ω–µ–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–æ—Ä–µ), –≥–¥–µ –±—É–¥–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω –∫–æ–¥: <code>–ë–ï–†–ï–ì–ò–¢–ï_–ü–†–ò–†–û–î–£_123</code>.\n\n‚Ä¢ **ü¶´ –ê–≥–µ–Ω—Ç:** –ê–≥–µ–Ω—Ç –≤ –∫–æ—Å—Ç—é–º–µ –±–æ–±—Ä–∞ –≤—ã–¥–∞–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –≥—Ä–∞–º–æ—Ç—ã –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ —Å—É–±–±–æ—Ç–Ω–∏–∫–µ. –≠—Ç–æ –ø–æ–≤—ã—Å–∏—Ç –º–æ—Ä–∞–ª—å–Ω—ã–π –¥—É—Ö –∫–æ–º–∞–Ω–¥! üí™"
            },
            {
                role: "user",
                text: "–ö–∞–∫–æ–π –Ω–∞—Ö–µ—Ä —Å—É–±–±–æ—Ç–Ω–∏–∫? –≠—Ç–æ –°–∏—Ç–∏–∫, City Project! –õ—é–¥–∏ –ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã –ø–æ –∑–∞–±—Ä–æ—Å–∞–º —Å —Ñ–æ–Ω–∞—Ä—è–º–∏ –ª–∞–∑–∞—é—Ç. –ù—É–∂–µ–Ω —Ö–∞—Ä–¥–∫–æ—Ä, –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω –∏ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞. –£–±–µ—Ä–∏ –±–æ–±—Ä–∞ –∏ —ç–∫–æ–ª–æ–≥–∏—é. –°–¥–µ–ª–∞–π —Ç–∞–∫, —á—Ç–æ–±—ã –∏–≥—Ä–æ–∫–∞–º –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ –ø—Ä–æ–π—Ç–∏ —É—Ä–æ–≤–µ–Ω—å, –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ—Ç —Ñ–∞–∫—Ç, —á—Ç–æ —Ç–∞–º –≤–æ–¥–∞ –∏ –∞—Ä–º–∞—Ç—É—Ä–∞. –ò –¥–æ–±–∞–≤—å –∞–≥–µ–Ω—Ç—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ, –Ω–æ –∂–µ—Å—Ç–∫–æ–µ.",
                autoSend: false
            },
            {
                role: "ai",
                text: "–ü–æ–Ω—è–ª–∞, –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Å—å –Ω–∞ —Ä–µ–∂–∏–º \"–•–∞—Ä–¥–∫–æ—Ä –∏ –õ–æ–≥–∏–∫–∞\" üî•. –ò–∑–≤–∏–Ω–∏—Ç–µ –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –±–æ–±—Ä–∞ üòÖ.\n\n**üíÄ –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è: ¬´–¢–µ—Ö–Ω–æ–≥–µ–Ω–Ω—ã–π –ö–æ—à–º–∞—Ä: –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è¬ª**\n\n**‚öôÔ∏è –ú–µ—Ö–∞–Ω–∏–∫–∞:**\n\n‚Ä¢ **üîç –ü–æ–∏—Å–∫:** –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω —à—Ä–∏—Ñ—Ç–æ–º 6-–≥–æ –∫–µ–≥–ª—è (–æ—á–µ–Ω—å –º–µ–ª–∫–æ) –Ω–∞ –æ–¥–Ω–æ–π –∏–∑ —Ç–æ—Ä—á–∞—â–∏—Ö –∞—Ä–º–∞—Ç—É—Ä–∏–Ω –Ω–∞ –ø–æ—Ç–æ–ª–∫–µ —Ç—Ä–µ—Ç—å–µ–≥–æ —Ü–µ—Ö–∞. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –≤ —Ü–µ—Ö—É 4000 –∞—Ä–º–∞—Ç—É—Ä–∏–Ω.\n\n‚Ä¢ **üß© –õ–æ–≥–∏–∫–∞:** –ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –Ω–∞ –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –∞—Ä–º–∞—Ç—É—Ä–µ –∫–æ–¥, –∏–≥—Ä–æ–∫–∏ –¥–æ–ª–∂–Ω—ã —Å–ø—É—Å—Ç–∏—Ç—å—Å—è –≤ –∑–∞—Ç–æ–ø–ª–µ–Ω–Ω—ã–π –ø–æ–¥–≤–∞–ª üíß. –¢–∞–º –ø–ª–∞–≤–∞—é—Ç –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã–µ —É—Ç–æ—á–∫–∏ —Å –Ω–æ–º–µ—Ä–∞–º–∏ ü¶Ü.\n\n‚Ä¢ **üéØ –î–µ–π—Å—Ç–≤–∏–µ:** –ò–≥—Ä–æ–∫–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–ª–æ–≤–∏—Ç—å –≤—Å–µ—Ö —É—Ç–æ—á–µ–∫, —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—å –∏—Ö –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏ –Ω–∞ —Å—É—Ö–æ–º —É—á–∞—Å—Ç–∫–µ –ø–æ–ª–∞. –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–µ—Ä–Ω–∞—è, –ø–æ—Å–ª–µ–¥–Ω—è—è —É—Ç–æ—á–∫–∞ \"–∫—Ä—è–∫–Ω–µ—Ç\" (–≤ –Ω–µ–π –¥–∏–Ω–∞–º–∏–∫) –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω—É–∂–Ω–æ–π –∞—Ä–º–∞—Ç—É—Ä—ã –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —ç—Ç–∞–∂–µ.\n\n**üïµÔ∏è –ê–≥–µ–Ω—Ç—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ:**\n–í —Å–∞–º–æ–º —Ç–µ–º–Ω–æ–º —É–≥–ª—É —Å–∏–¥–∏—Ç –ê–≥–µ–Ω—Ç –≤ –∫–æ—Å—Ç—é–º–µ \"–°–∫—É—á–∞—é—â–µ–≥–æ –í–∞—Ö—Ç–µ—Ä–∞\".\n\n‚Ä¢ **üìù –ó–∞–¥–∞–Ω–∏–µ:** –ò–≥—Ä–æ–∫–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–¥–æ–π—Ç–∏ –∫ –Ω–µ–º—É, –∑–∞–π—Ç–∏ –≤ –≤–æ–æ–±—Ä–∞–∂–∞–µ–º—ã–π –∫–∞–±–∏–Ω–µ—Ç –∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã.\n\n‚Ä¢ **‚ö†Ô∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ê–≥–µ–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç \"–°–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã 2-–ù–î–§–õ\" –∏ \"–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –Ω–æ—à–µ–Ω–∏–µ —Ñ–æ–Ω–∞—Ä–∏–∫–∞\". –ò–≥—Ä–æ–∫–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞–π—Ç–∏ –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –∑–∞–≤–æ–¥–∞ –±–ª–∞–Ω–∫–∏ —Å–ø—Ä–∞–≤–æ–∫ –Ω–∞ –∫–∞—Ä—Ç–æ–Ω–µ –∏ —É–≥–æ–ª—å, —á—Ç–æ–±—ã –∑–∞–≤–µ—Ä–∏—Ç—å –∏—Ö –ø–µ—á–∞—Ç—å—é, —Å–¥–µ–ª–∞–Ω–Ω–æ–π –∏–∑ –æ—Ç–ø–µ—á–∞—Ç–∫–∞ –≥—Ä—è–∑–Ω–æ–≥–æ —Å–∞–ø–æ–≥–∞ –∫–∞–ø–∏—Ç–∞–Ω–∞ –∫–æ–º–∞–Ω–¥—ã üë¢. –ï—Å–ª–∏ –ø–µ—á–∞—Ç—å –Ω–µ—á–µ—Ç–∫–∞—è ‚Äî –ê–≥–µ–Ω—Ç –≤–∫–ª—é—á–∞–µ—Ç —Å–∏—Ä–µ–Ω—É üö® –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞—Ç—å —Å–ø—Ä–∞–≤–∫–∏.\n\n–ö–æ–¥ –≤—ã–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è \"–±—é—Ä–æ–∫—Ä–∞—Ç–∏–∏\". –§–æ—Ä–º–∞—Ç –∫–æ–¥–∞: <code>–ù–î–§–õ_–°–î–ê–ù_666</code> üòà"
            }
        ];

        // Follow-up –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã
        const dialogFollowUp = [
            {
                question: "–ê —Å–∫–æ–ª—å–∫–æ —É—Ç–æ—á–µ–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –ø–æ–¥–≤–∞–ª–µ?",
                answer: "ü¶Ü –î–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –§–∏–±–æ–Ω–∞—á—á–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 9 —É—Ç–æ—á–µ–∫ —Å –Ω–æ–º–µ—Ä–∞–º–∏: 1, 1, 2, 3, 5, 8, 13, 21, 34. –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ —Å–º–æ–≥—É—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å üßÆ. –ù–æ —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî –±—Ä–æ—Å—å—Ç–µ —Ç—É–¥–∞ –µ—â—ë 5-7 —É—Ç–æ—á–µ–∫ —Å \"–ª–æ–∂–Ω—ã–º–∏\" –Ω–æ–º–µ—Ä–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 4, 15, 16, 23, 42) üé≠. –ü—É—Å—Ç—å –∏–≥—Ä–æ–∫–∏ —Å–∞–º–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É—é—Ç –Ω—É–∂–Ω—ã–µ! üí°"
            },
            {
                question: "–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —É—Ç–æ—á–∫–∞ \"–∫—Ä—è–∫–Ω—É–ª–∞\"?",
                answer: "–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ üõ†Ô∏è:\n\n‚Ä¢ **‚úÖ –ü—Ä–æ—Å—Ç–æ–π:** –ö—É–ø–∏—Ç–µ –¥–µ—Ç—Å–∫—É—é –∏–≥—Ä—É—à–∫—É-—É—Ç–æ—á–∫—É —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –¥–∏–Ω–∞–º–∏–∫–æ–º (—Ç–∞–∫–∏–µ –ø–∏—â–∞—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏). –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –µ—ë, –≤—Å—Ç–∞–≤–∏–≤ –≤–Ω—É—Ç—Ä—å Bluetooth-–∫–æ–ª–æ–Ω–∫—É üîä. –ö–æ–≥–¥–∞ –∏–≥—Ä–æ–∫–∏ —Å–æ–±–µ—Ä—É—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –æ–ø–µ—Ä–∞—Ç–æ—Ä —É–¥–∞–ª—ë–Ω–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç –∞—É–¥–∏–æ—Ñ–∞–π–ª —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏.\n\n‚Ä¢ **üîß –•–∞—Ä–¥–∫–æ—Ä–Ω—ã–π:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Arduino —Å –¥–∞—Ç—á–∏–∫–æ–º –¥–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–∑–∏—Ü–∏–µ–π. –ö–æ–≥–¥–∞ —É—Ç–æ—á–∫–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º –≤—Å—Ç–∞—ë—Ç –Ω–∞ –º–µ—Å—Ç–æ ‚Äî —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç MP3-–º–æ–¥—É–ª—å.\n\n‚Ä¢ **üí∞ –ë—é–¥–∂–µ—Ç–Ω—ã–π:** –ê–≥–µ–Ω—Ç –Ω–∞–±–ª—é–¥–∞–µ—Ç –∏–∑ —É–∫—Ä—ã—Ç–∏—è –∏ —Å–∞–º –∫—Ä–∏—á–∏—Ç \"–ö–†–Ø–Ø–Ø!\" –≤ –º–µ–≥–∞—Ñ–æ–Ω üì¢, –∫–æ–≥–¥–∞ –≤–∏–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫—É."
            },
            {
                question: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –∏–≥—Ä–æ–∫–∏ –ø—Ä–æ–º–æ–∫–Ω—É—Ç –≤ –ø–æ–¥–≤–∞–ª–µ?",
                answer: "–≠—Ç–æ —á–∞—Å—Ç—å —Ö–∞—Ä–¥–∫–æ—Ä–∞! üí™ –ù–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:\n\n‚Ä¢ ü•æ –ü—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∑–∞—Ä–∞–Ω–µ–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–∑–∏–Ω–æ–≤—ã—Ö —Å–∞–ø–æ–≥ –∏–ª–∏ –±–∞—Ö–∏–ª.\n\n‚Ä¢ üìè –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–ª—É–±–∏–Ω—É –≤–æ–¥—ã ‚Äî –ø–æ –∫–æ–ª–µ–Ω–æ —ç—Ç–æ –º–∞–∫—Å–∏–º—É–º, –≥–ª—É–±–∂–µ –æ–ø–∞—Å–Ω–æ ‚ö†Ô∏è.\n\n‚Ä¢ üîç –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –≤–æ–¥–µ –Ω–µ—Ç –æ—Å—Ç—Ä—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –∫–∞–±–µ–ª–µ–π.\n\n‚Ä¢ ‚òï –ò–º–µ–π—Ç–µ –Ω–∞ —Ç–æ—á–∫–µ –∑–∞–ø–∞—Å –ø–æ–ª–æ—Ç–µ–Ω–µ—Ü –∏ –≥–æ—Ä—è—á–∏–π —á–∞–π –≤ —Ç–µ—Ä–º–æ—Å–µ ‚Äî —ç—Ç–æ –¥–æ–±–∞–≤–∏—Ç +100 –∫ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–æ–≤ –ø–æ—Å–ª–µ —É—Ä–æ–≤–Ω—è.\n\n‚Ä¢ üìú –í –ø—Ä–∞–≤–∏–ª–∞—Ö –∏–≥—Ä—ã —É–∫–∞–∂–∏—Ç–µ: \"–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã –Ω–µ –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –º–æ–∫—Ä—ã–µ –Ω–æ—Å–∫–∏\" üß¶."
            },
            {
                question: "–ú–æ–∂–Ω–æ –ª–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ —Å –∞—Ä–º–∞—Ç—É—Ä–æ–π?",
                answer: "–ö–æ–Ω–µ—á–Ω–æ! üëç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:\n\n‚Ä¢ üé® –í–º–µ—Å—Ç–æ 4000 –∞—Ä–º–∞—Ç—É—Ä–∏–Ω ‚Äî –ø–æ–º–µ—Ç—å—Ç–µ 100 —à—Ç—É–∫ –∫—Ä–∞—Å–∫–æ–π, –∏ –∫–æ–¥ –±—É–¥–µ—Ç –Ω–∞ –æ–¥–Ω–æ–π –∏–∑ –Ω–∏—Ö.\n\n‚Ä¢ üî¶ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ UV-—Ñ–æ–Ω–∞—Ä–∏–∫: –∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –Ω–µ–≤–∏–¥–∏–º—ã–º–∏ —á–µ—Ä–Ω–∏–ª–∞–º–∏ –∏ –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –≤ —É–ª—å—Ç—Ä–∞—Ñ–∏–æ–ª–µ—Ç–µ.\n\n‚Ä¢ üß± –ö–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –Ω–∞ –∞—Ä–º–∞—Ç—É—Ä–µ, –∞ –Ω–∞ —Å—Ç–µ–Ω–µ –∑–∞ –Ω–µ–π ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç —É—Ç–æ—á–∫–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —É–≥–æ–ª —Ü–µ—Ö–∞.\n\n‚Ä¢ üì± –°–¥–µ–ª–∞–π—Ç–µ QR-–∫–æ–¥ –Ω–∞ –∞—Ä–º–∞—Ç—É—Ä–µ ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –ª–µ–≥–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å."
            },
            {
                question: "–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∞–≥–µ–Ω—Ç—Å–∫–æ–µ –±–æ–ª–µ–µ —Ö–∞—Ä–¥–∫–æ—Ä–Ω—ã–º?",
                answer: "–û, –≤—ã —Ö–æ—Ç–∏—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–π –∞–¥? üòà –î–µ—Ä–∂–∏—Ç–µ **¬´–ë—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∏–π –ê–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å 2.0¬ª** üî•:\n\n**‚öôÔ∏è –£—Å–ª–æ–∂–Ω—ë–Ω–Ω–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞:**\n\n‚Ä¢ **1Ô∏è‚É£ –≠—Ç–∞–ø 1 ‚Äî –û—á–µ—Ä–µ–¥—å:** –ü–µ—Ä–µ–¥ –ê–≥–µ–Ω—Ç–æ–º-–í–∞—Ö—Ç—ë—Ä–æ–º —Å—Ç–æ–∏—Ç \"–æ—á–µ—Ä–µ–¥—å\" –∏–∑ –º–∞–Ω–µ–∫–µ–Ω–æ–≤ üßç. –ò–≥—Ä–æ–∫–∏ –¥–æ–ª–∂–Ω—ã \"–∑–∞–Ω—è—Ç—å –æ—á–µ—Ä–µ–¥—å\" –∏ –∂–¥–∞—Ç—å, –ø–æ–∫–∞ –ê–≥–µ–Ω—Ç –≤—ã–∑–æ–≤–µ—Ç –∏—Ö –ø–æ –Ω–æ–º–µ—Ä—É. –ù–æ–º–µ—Ä–∫–∏ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –≤—Å–µ–º—É –∑–∞–≤–æ–¥—É.\n\n‚Ä¢ **2Ô∏è‚É£ –≠—Ç–∞–ø 2 ‚Äî –î–æ–∫—É–º–µ–Ω—Ç—ã:** –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –Ω–µ 2, –∞ 5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: 2-–ù–î–§–õ, –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ñ–æ–Ω–∞—Ä–∏–∫ üî¶, –°–ø—Ä–∞–≤–∫–∞ –æ –Ω–µ—Å—É–¥–∏–º–æ—Å—Ç–∏ –∑–∞ –∫—Ä–∞–∂—É –∞—Ä–º–∞—Ç—É—Ä—ã, –ú–µ–¥–æ—Å–º–æ—Ç—Ä —Å –ø–µ—á–∞—Ç—å—é \"–ì–û–î–ï–ù\" –∏ –∑–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ–ø—É—Å–∫ –≤ 3-—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö.\n\n‚Ä¢ **3Ô∏è‚É£ –≠—Ç–∞–ø 3 ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞:** –ê–≥–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –ª—É–ø–æ–π üîç. –õ—é–±–∞—è \"–æ—à–∏–±–∫–∞\" ‚Äî –∏ –∏–≥—Ä–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ \"–∫–æ–º–Ω–∞—Ç—É –æ–∂–∏–¥–∞–Ω–∏—è\" (—Ç—ë–º–Ω—ã–π —É–≥–æ–ª üåë) –Ω–∞ 2 –º–∏–Ω—É—Ç—ã —à—Ç—Ä–∞—Ñ–∞.\n\n‚Ä¢ **4Ô∏è‚É£ –≠—Ç–∞–ø 4 ‚Äî –§–æ—Ç–æ –Ω–∞ –ø—Ä–æ–ø—É—Å–∫:** –ö–∞–ø–∏—Ç–∞–Ω –∫–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–µ–Ω —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ \"–ø—Ä–æ–ø—É—Å–∫\" ‚Äî –Ω–æ –∫–∞–º–µ—Ä–∞ —ç—Ç–æ –ê–≥–µ–Ω—Ç üé®, –∫–æ—Ç–æ—Ä—ã–π —Ä–∏—Å—É–µ—Ç –ø–æ—Ä—Ç—Ä–µ—Ç —É–≥–ª—ë–º –Ω–∞ –∫–∞—Ä—Ç–æ–Ω–∫–µ. –ï—Å–ª–∏ –∫–∞–ø–∏—Ç–∞–Ω –º–æ—Ä–≥–Ω—ë—Ç –∏–ª–∏ —É–ª—ã–±–Ω—ë—Ç—Å—è ‚Äî –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞.\n\n**üëπ –§–∏–Ω–∞–ª—å–Ω—ã–π –±–æ—Å—Å:** –ü–æ—Å–ª–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –ê–≥–µ–Ω—Ç –≥–æ–≤–æ—Ä–∏—Ç: \"–ê, —Ç–∞–∫ –≤—ã –∏–∑ —Ç—Ä–µ—Ç—å–µ–≥–æ —Ü–µ—Ö–∞? –≠—Ç–æ –Ω–µ –∫–æ –º–Ω–µ, —ç—Ç–æ –∫ –ú–∏—Ö–∞–ª—ã—á—É –≤ –ø–æ–¥–≤–∞–ª\". –ò —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ –ê–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–∏–¥–∏—Ç –ü–û –ö–û–õ–ï–ù–û –í –í–û–î–ï üíß –∏ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ –∂–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –Ω–æ —É–∂–µ –≤ –ª–∞–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ.\n\n–ö–æ–¥ –≤—ã–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –¥–≤–æ–π–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è. –§–æ—Ä–º–∞—Ç: <code>–ú–ò–•–ê–õ–´–ß_–û–î–û–ë–†–ò–õ_999</code> üèÜ"
            }
        ];


        // –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ –≤—Å–µ—Ö follow-up
        const finalDialog = {
            userText: "–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–µ–ø–ª–æ—Ö–æ. –ù–æ —Ç–∞–∫–æ–≥–æ –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –±–µ—Ç–æ–Ω–Ω–æ–≥–æ –∑–∞–≤–æ–¥–∞ —É –Ω–∞—Å –Ω–µ—Ç, —ç—Ç–æ –∂–µ —Å–µ–≤–µ—Ä –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞. –°—á–∏—Ç–∞–π, —á—Ç–æ —ç—Ç–æ –±—ã–ª —Ç–µ—Å—Ç. –Ø –ø–æ–∑–∂–µ –ø—Ä–∏—à–ª—é —Ç–µ–±–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π, —Ç—ã –¥–æ–ª–∂–Ω–∞ –±—É–¥–µ—à—å —Ç–∞–∫ –∂–µ –ø—Ä–∏–¥—É–º–∞—Ç—å —É—Ä–æ–≤–Ω–∏.",
            aiText: "üéØ –û—Ç–ª–∏—á–Ω–æ, —Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω!\n–Ø –≥–æ—Ç–æ–≤–∞ –ø–æ–º–æ—á—å —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏—è—Ö.\n\n–ü—Ä–∏—Å—ã–ª–∞–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏—è ‚Äî —á–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ, —Ç–µ–º –ª—É—á—à–µ:\n\n‚Ä¢ **–¢–∏–ø –æ–±—ä–µ–∫—Ç–∞** (–∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–π –¥–æ–º, –ø–∞—Ä–∫, –≥–æ—Ä–æ–¥—Å–∫–∞—è –∑–∞—Å—Ç—Ä–æ–π–∫–∞, –º–µ—Ç–∞–ª–ª–æ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)\n‚Ä¢ **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏ –∏–ª–∏ –ª–æ–∫–∞—Ü–∏–∏** (–æ–ø–∞—Å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏, –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –≥—Ä–∞—Ñ—Ñ–∏—Ç–∏, –º–µ–±–µ–ª—å)\n‚Ä¢ **–¢–∏–ø –∑–∞–¥–∞–Ω–∏—è** (–ø–æ–∏—Å–∫ –∫–æ–¥–æ–≤, —É—Ä–æ–≤–µ–Ω—å –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ, –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ —Å –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—è–º–∏ –∏–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–∞—è –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞)\n‚Ä¢ **–ñ–µ–ª–∞–µ–º–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å** (–ø—Ä–æ—Å—Ç–æ–π, —Å–ª–æ–∂–Ω—ã–π, —Ö–∞—Ä–¥–∫–æ—Ä)\n\n–ñ–¥—É –≤–∞—à–∏ –ª–æ–∫–∞—Ü–∏–∏ ‚Äî –ø—Ä–µ–≤—Ä–∞—Ç–∏–º –∏—Ö –≤ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ —É—Ä–æ–≤–Ω–∏! üìç"
        };

        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–∞
        const briefingDialog = {
            userText: "–ê, –∏ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è. –í–æ—Ç —Ñ–∞–π–ª —Å –∏–Ω—Ñ–æ–π –ø–æ –±—Ä–∏—Ñ–∏–Ω–≥—É. –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π –ø–æ –∫—Ä–∞—Å–æ—Ç–µ.",
            fileName: "–±—Ä–∏—Ñ–∏–Ω–≥.txt",
            fileSize: "1.55 –∫–±",
            aiText: "üìã **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –±—Ä–∏—Ñ–∏–Ω–≥—É:**\n\nüó∫Ô∏è **–ó–æ–Ω–∞ –∏–≥—Ä—ã:** —Å–µ–≤–µ—Ä –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞, –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –ö–ê–î –Ω–µ –±—É–¥–µ–º –≤—ã–µ–∑–∂–∞—Ç—å\n\nüìç **–ë—Ä–∏—Ñ–∏–Ω–≥:** 22:30, —Å—Ç–∞—Ä—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –Ω–µ–≥–æ –ø–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥. –¢–æ—á–∫—É –±—Ä–∏—Ñ–∞ –¥–∞–¥–∏–º –Ω–∞ –Ω–µ–¥–µ–ª–µ –∏–≥—Ä—ã.\n\n‚è±Ô∏è **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 3,5-4 —á–∞—Å–∞ –¥–ª—è –ª–∏–¥–µ—Ä–∞, 6,5 –ø–æ —Å–ª–∏–≤–∞–º —Å –¥–æ–µ–∑–¥–∞–º–∏, –Ω–æ –Ω–∞–¥–µ–µ–º—Å—è –¥–æ —Å–ª–∏–≤–æ–≤ –Ω–µ –¥–æ–π–¥—ë—Ç. –í—Å–µ –¥–æ–µ–∑–¥—ã –±—É–¥—É—Ç –∑–∞–≥–ª—É—à–µ–Ω—ã.\n\nüéí **–î–æ–ø—ã:** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä, –≤–æ–∑–º–æ–∂–Ω–æ –º—ã –≤–æ–∑—å–º—ë–º –∫–ª–∞—Å—Å–Ω—ã–π –Ω–µ–±–∞—è–Ω–Ω—ã–π —Å—Ç–∞–ª–∫–µ—Ä –±–æ–Ω—É—Å–Ω—ã–º –∑–∞–¥–∞–Ω–∏–µ–º (–∫–∞–∫ –Ω–∞ –∫—É–±–∫–µ –±—ã–ª –¥–µ—Ç—Å–∫–∏–π —Å–∞–¥), —Ç–∞–∫ —á—Ç–æ –ø–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ **–£–§-—Ñ–æ–Ω–∞—Ä–∏** –∫–∞–∂–¥–æ–º—É –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π üî¶\n\nüìù **–ü—Ä–æ—Å—å–±–∞:** –ø–æ–¥–∞—Ç—å—Å—è –Ω–∞ –∏–≥—Ä—É **–¥–æ –≤–µ—á–µ—Ä–∞ 17.12**, —Ç–∞–∫ –∫–∞–∫ –±—É–¥–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ñ—Ñ.\n\nüîç **–ì–µ–π–º–ø–ª–µ–π:** –ë—É–¥–µ—Ç –º–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞. –ê–≥–µ–Ω—Ç—Å–∫–∏–µ —Ç–æ–∂–µ –±—É–¥—É—Ç.\n\nüí≥ **–û–ø–ª–∞—Ç–∞:** –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –í–∞–Ω–∏—à–∞ **+79110251582** –Ω–∞ –ê–ª—å—Ñ–∞-–±–∞–Ω–∫, —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –≤ –¢–ì.\n\nüéÖ **P.S.:** –ü–æ–¥–∞–≤–∞–π—Ç–µ—Å—å –≤ –¢–∞–π–Ω–æ–≥–æ –°–∞–Ω—Ç—É! <a href='https://t.me/cityproject/565' target='_blank' style='color: #10A37F;'>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∫–∞–Ω–∞–ª–µ CityProject</a> ‚Äî –±—É–¥–µ—Ç –∫–ª–∞—Å—Å–Ω–æ, –¥–æ –∫–æ–Ω—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Å—Ç–∞–ª–æ—Å—å 2 –¥–Ω—è! üéÅ"
        };

        const messagesContainer = document.getElementById('messages');
        const inputField = document.getElementById('inputField');
        const sendButton = document.getElementById('sendButton');

        let currentMessageIndex = 0;
        let isAnimating = false;
        let availableFollowUps = [...dialogFollowUp]; // –ö–æ–ø–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
        let currentFollowUpButtons = null;
        let waitingForSend = false;
        let sendClickResolver = null;
        let hintTimeout = null;
        let sendHint = null;

        // –°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—á–∞—Ç–∏ (–º—Å –Ω–∞ —Å–∏–º–≤–æ–ª)
        const USER_TYPING_SPEED = 50;
        const AI_WORD_SPEED = 80;
        const HINT_DELAY = 10000; // 10 —Å–µ–∫—É–Ω–¥ –¥–æ –ø–æ–∫–∞–∑–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏

        function resetInputField() {
            inputField.innerHTML = '<span class="caret"></span><span class="placeholder">–°–ø—Ä–æ—Å–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å...</span>';
            sendButton.classList.remove('active');
        }

        function setInputText(text, showCaret = true) {
            inputField.innerHTML = `<span class="text">${text}</span>${showCaret ? '<span class="caret"></span>' : ''}`;
            sendButton.classList.add('active');
        }

        function addUserMessage(text) {
            const div = document.createElement('div');
            div.className = 'user-message';
            div.innerHTML = `<div class="bubble">${text}</div>`;
            messagesContainer.appendChild(div);

            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
            requestAnimationFrame(() => {
                div.classList.add('visible');
            });

            scrollToBottom();
        }

        function showThinkingIndicator() {
            const div = document.createElement('div');
            div.className = 'thinking-indicator';
            div.id = 'thinkingIndicator';
            div.innerHTML = '<span class="gear">‚öôÔ∏è</span><span>–î—É–º–∞—é...</span>';
            messagesContainer.appendChild(div);
            scrollToBottom();
        }

        function hideThinkingIndicator() {
            const indicator = document.getElementById('thinkingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }

        function addAIMessage() {
            const div = document.createElement('div');
            div.className = 'ai-message';
            div.innerHTML = '<div class="content"></div>';
            messagesContainer.appendChild(div);

            requestAnimationFrame(() => {
                div.classList.add('visible');
            });

            return div.querySelector('.content');
        }

        function scrollToBottom() {
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
        function createSendHint() {
            if (!sendHint) {
                sendHint = document.createElement('div');
                sendHint.className = 'send-hint';
                sendHint.textContent = '–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å';
                document.querySelector('.input-container').appendChild(sendHint);
            }
        }

        // –ü–æ–∫–∞–∑ –ø–æ–¥—Å–∫–∞–∑–∫–∏
        function showSendHint() {
            createSendHint();
            requestAnimationFrame(() => {
                sendHint.classList.add('visible');
            });
        }

        // –°–∫—Ä—ã—Ç–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
        function hideSendHint() {
            if (sendHint) {
                sendHint.classList.remove('visible');
            }
            if (hintTimeout) {
                clearTimeout(hintTimeout);
                hintTimeout = null;
            }
        }

        // –û–∂–∏–¥–∞–Ω–∏–µ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏
        function waitForSendClick() {
            return new Promise(resolve => {
                waitingForSend = true;
                sendClickResolver = resolve;

                // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å waiting –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –º–æ—Ä–≥–∞–Ω–∏—è
                sendButton.classList.add('waiting');

                // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –¥–ª—è –ø–æ–∫–∞–∑–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
                hintTimeout = setTimeout(() => {
                    showSendHint();
                }, HINT_DELAY);
            });
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏
        sendButton.addEventListener('click', () => {
            if (waitingForSend && sendClickResolver) {
                waitingForSend = false;
                hideSendHint();
                sendButton.classList.remove('waiting');
                sendClickResolver();
                sendClickResolver = null;
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è Enter
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && waitingForSend && sendClickResolver) {
                e.preventDefault();
                waitingForSend = false;
                hideSendHint();
                sendButton.classList.remove('waiting');
                sendClickResolver();
                sendClickResolver = null;
            }
        });

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—á–∞—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function animateUserTyping(text, autoSend = true) {
            for (let i = 0; i <= text.length; i++) {
                const currentText = text.substring(0, i);
                if (i === 0) {
                    resetInputField();
                } else {
                    setInputText(currentText);
                }
                await sleep(USER_TYPING_SPEED + Math.random() * 30);
            }

            // –ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ - –∂–¥—ë–º –∫–ª–∏–∫
            if (!autoSend) {
                await waitForSendClick();
            } else {
                // –ü–∞—É–∑–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
                await sleep(300);
            }

            // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
            addUserMessage(text);
            resetInputField();
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è streaming –æ—Ç–≤–µ—Ç–∞ AI
        async function animateAIResponse(text) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–î—É–º–∞—é..."
            showThinkingIndicator();

            // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 1-5 —Å–µ–∫—É–Ω–¥
            const thinkingTime = 1000 + Math.random() * 4000;
            await sleep(thinkingTime);

            // –£–±–∏—Ä–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
            hideThinkingIndicator();

            // –°–æ–∑–¥–∞—ë–º –±–ª–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏—è
            const contentDiv = addAIMessage();

            // –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Å–ª–æ–≤–∞
            const words = text.split(/(\s+)/);
            let currentText = '';

            for (const word of words) {
                currentText += word;
                // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –∏ markdown
                const formattedText = formatText(currentText);
                contentDiv.innerHTML = formattedText;
                scrollToBottom();

                if (word.trim()) {
                    await sleep(AI_WORD_SPEED + Math.random() * 40);
                }
            }
        }

        // –ü—Ä–æ—Å—Ç–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (markdown-like)
        function formatText(text) {
            return text
                .replace(/\n/g, '<br>')
                .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö follow-up –∫–Ω–æ–ø–æ–∫
        function removeFollowUpButtons() {
            if (currentFollowUpButtons) {
                currentFollowUpButtons.remove();
                currentFollowUpButtons = null;
            }
        }


        // –ü–æ–∫–∞–∑ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
        async function showFinalDialog() {
            if (isAnimating) return;
            isAnimating = true;

            // –ê–Ω–∏–º–∏—Ä—É–µ–º –Ω–∞–±–æ—Ä —Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (autoSend = false)
            await animateUserTyping(finalDialog.userText, autoSend = false);

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç AI
            await animateAIResponse(finalDialog.aiText);

            await sleep(1000);

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–∞
            await showBriefingDialog();

            isAnimating = false;
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –∫–ª–∏–∫–∞ –Ω–∞ —Å–∫—Ä–µ–ø–∫—É –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
        async function animateFileAttachment(fileName, fileSize) {
            const attachIcon = document.querySelector('.attach-icon');
            const inputFieldEl = document.getElementById('inputField');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —Å–∫—Ä–µ–ø–∫–∏ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –¥–ª—è –∑–∞–º–µ—Ç–Ω–æ—Å—Ç–∏)
            for (let i = 0; i < 2; i++) {
                attachIcon.classList.add('active');
                await sleep(500);
                attachIcon.classList.remove('active');
                await sleep(200);
            }

            // –°–æ–∑–¥–∞—ë–º –ø—Ä–µ–≤—å—é —Ñ–∞–π–ª–∞ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∑–∞–≥—Ä—É–∑–∫–∏
            const filePreview = document.createElement('span');
            filePreview.className = 'file-preview';
            filePreview.innerHTML = `<span class="file-loading"></span><span class="file-preview-name">–ó–∞–≥—Ä—É–∑–∫–∞...</span>`;
            
            // –í—Å—Ç–∞–≤–ª—è–µ–º –ø—Ä–µ–≤—å—é –≤ –Ω–∞—á–∞–ª–æ –ø–æ–ª—è –≤–≤–æ–¥–∞
            inputFieldEl.insertBefore(filePreview, inputFieldEl.firstChild);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
            await sleep(50);
            filePreview.classList.add('visible');
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
            await sleep(800);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–≤—å—é —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞
            filePreview.innerHTML = `<img src="https://cdn.endata.cx/data/games/81132/text_document.png" class="file-preview-icon" alt=""><span class="file-preview-name">${fileName}</span>`;
            
            await sleep(300);

            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º HTML —Ñ–∞–π–ª–∞ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —Å—Å—ã–ª–∫—É –Ω–∞ –ø—Ä–µ–≤—å—é –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
            return {
                html: `<div class="file-attachment" id="tempFileAttachment"><img src="https://cdn.endata.cx/data/games/81132/text_document.png" class="file-icon" alt="–î–æ–∫—É–º–µ–Ω—Ç"><span class="file-name">${fileName} (${fileSize})</span></div>`,
                previewElement: filePreview
            };
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ñ–∞–π–ª–æ–º
        function addUserMessageWithFile(text, fileHtml) {
            const div = document.createElement('div');
            div.className = 'user-message';
            div.innerHTML = `<div class="bubble">${text}${fileHtml}</div>`;
            messagesContainer.appendChild(div);

            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
            requestAnimationFrame(() => {
                div.classList.add('visible');
                // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞
                const fileAttachment = div.querySelector('.file-attachment');
                if (fileAttachment) {
                    setTimeout(() => {
                        fileAttachment.classList.add('visible');
                    }, 200);
                }
            });

            scrollToBottom();
        }

        // –ü–æ–∫–∞–∑ –¥–∏–∞–ª–æ–≥–∞ —Å –±—Ä–∏—Ñ–∏–Ω–≥–æ–º
        async function showBriefingDialog() {
            // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ (—Å–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ–º —Ñ–∞–π–ª)
            const fileResult = await animateFileAttachment(briefingDialog.fileName, briefingDialog.fileSize);

            // –ê–Ω–∏–º–∏—Ä—É–µ–º –Ω–∞–±–æ—Ä —Ç–µ–∫—Å—Ç–∞ (—Ñ–∞–π–ª —É–∂–µ –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω –∏ –≤–∏–¥–µ–Ω)
            for (let i = 0; i <= briefingDialog.userText.length; i++) {
                const currentText = briefingDialog.userText.substring(0, i);
                const inputFieldEl = document.getElementById('inputField');
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–µ–≤—å—é —Ñ–∞–π–ª–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞
                if (i === 0) {
                    inputFieldEl.innerHTML = '';
                    inputFieldEl.appendChild(fileResult.previewElement);
                    inputFieldEl.innerHTML += '<span class="caret"></span>';
                } else {
                    inputFieldEl.innerHTML = '';
                    inputFieldEl.appendChild(fileResult.previewElement);
                    inputFieldEl.innerHTML += `<span class="text">${currentText}</span><span class="caret"></span>`;
                    sendButton.classList.add('active');
                }
                await sleep(USER_TYPING_SPEED + Math.random() * 30);
            }

            // –ñ–¥—ë–º –∫–ª–∏–∫ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
            await waitForSendClick();

            // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–≤—å—é –∏–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞
            if (fileResult.previewElement && fileResult.previewElement.parentNode) {
                fileResult.previewElement.remove();
            }

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ñ–∞–π–ª–æ–º
            addUserMessageWithFile(briefingDialog.userText, fileResult.html);
            resetInputField();

            await sleep(500);

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç AI
            await animateAIResponse(briefingDialog.aiText);
        }

        // –ü–æ–∫–∞–∑ follow-up –∫–Ω–æ–ø–æ–∫ (–º–∞–∫—Å–∏–º—É–º 3)
        function showFollowUpButtons() {
            // –ï—Å–ª–∏ –≤—Å–µ follow-up –∏—Å—á–µ—Ä–ø–∞–Ω—ã ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥
            if (availableFollowUps.length === 0) {
                showFinalDialog();
                return;
            }

            removeFollowUpButtons();

            const container = document.createElement('div');
            container.className = 'followup-container';

            // –ë–µ—Ä—ë–º –º–∞–∫—Å–∏–º—É–º 3 –≤–æ–ø—Ä–æ—Å–∞
            const questionsToShow = availableFollowUps.slice(0, 3);

            questionsToShow.forEach((followUp, index) => {
                const btn = document.createElement('button');
                btn.className = 'followup-btn';
                btn.innerHTML = `<span class="arrow">‚Üí</span><span>${followUp.question}</span>`;
                btn.addEventListener('click', () => handleFollowUpClick(followUp));
                container.appendChild(btn);
            });

            messagesContainer.appendChild(container);

            requestAnimationFrame(() => {
                container.classList.add('visible');
            });

            currentFollowUpButtons = container;
            scrollToBottom();
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ follow-up –≤–æ–ø—Ä–æ—Å
        async function handleFollowUpClick(followUp) {
            if (isAnimating) return;
            isAnimating = true;

            // –£–¥–∞–ª—è–µ–º –≤–æ–ø—Ä–æ—Å –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
            availableFollowUps = availableFollowUps.filter(f => f !== followUp);

            // –£–¥–∞–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            removeFollowUpButtons();

            // –î–æ–±–∞–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addUserMessage(followUp.question);
            await sleep(500);

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç AI
            await animateAIResponse(followUp.answer);
            await sleep(500);

            isAnimating = false;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–µ follow-up –∫–Ω–æ–ø–∫–∏ (–∏–ª–∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥)
            showFollowUpButtons();
        }

        // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –¥–∏–∞–ª–æ–≥–∞
        async function runDialog() {
            isAnimating = true;
            currentMessageIndex = 0;
            messagesContainer.innerHTML = '';
            resetInputField();
            hideSendHint();
            availableFollowUps = [...dialogFollowUp]; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
            removeFollowUpButtons();

            await sleep(500);

            for (const message of dialogData) {
                if (message.role === 'user') {
                    // autoSend –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω
                    const autoSend = message.autoSend !== false;
                    await animateUserTyping(message.text, autoSend);
                    await sleep(500);
                } else if (message.role === 'ai') {
                    await animateAIResponse(message.text);
                    await sleep(800);
                }
            }

            // –ü–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º follow-up –∫–Ω–æ–ø–∫–∏
            showFollowUpButtons();

            isAnimating = false;
        }


        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        runDialog();
    </script>
</body>

</html>